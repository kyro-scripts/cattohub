-- [[ GLOBAL WRAPPER FOR STABILITY ]]
local game = game
local loadstring = loadstring
local HttpGet = game.HttpGet

local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

local GameData = {
    [5938036553] = {
        Name = "Frontlines",
        Options = {
            {Title = "Legacy", Script = "https://raw.githubusercontent.com/vexascripts/Roblox-Scripts/refs/heads/main/FRONTLINES"},
            -- FIXED RAW LINKS BELOW --
            {Title = "Stable", Script = "https://raw.githubusercontent.com/kyro-scripts/cattohub/main/FrontLines%202"},
            {Title = "Beta", Script = "https://raw.githubusercontent.com/kyro-scripts/cattohub/main/beta"}
        }
    },
    [136372246050123] = {
        Name = "Stick Battles",
        Options = {
            {Title = "Load Script", Script = "https://raw.githubusercontent.com/vexascripts/Roblox-Scripts/refs/heads/main/Stick%20Battles%20%F0%9F%8D%A1"}
        }
    },
    [1215581239] = {
        Name = "DoomSpire",
        Options = {
            {Title = "Load Script", Script = "https://raw.githubusercontent.com/vexascripts/Roblox-Scripts/refs/heads/main/DoomSpire"}
        }
    }
}

-- [[ UI INITIALIZATION ]]
local Window = Fluent:CreateWindow({
    Title = "CattosBored Hub",
    SubTitle = "v1.0",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "Dark"
})

local MainTab = Window:AddTab({ Title = "Executor", Icon = "code" })

local current = GameData[game.PlaceId]
if current then
    MainTab:AddParagraph({Title = "Game Detected", Content = current.Name})
    for _, opt in pairs(current.Options) do
        MainTab:AddButton({
            Title = opt.Title,
            Callback = function()
                -- Safety check to prevent the "nil" error
                local success, code = pcall(game.HttpGet, game, opt.Script)
                if success and code then
                    loadstring(code)()
                else
                    Fluent:Notify({Title = "Error", Content = "Failed to fetch script."})
                end
            end
        })
    end
else
    MainTab:AddParagraph({Title = "Unknown Game", Content = "No scripts found for this ID."})
end

-- Teleport list for other games
local ListTab = Window:AddTab({ Title = "Games List", Icon = "list" })
for id, data in pairs(GameData) do
    ListTab:AddButton({
        Title = "Join " .. data.Name,
        Callback = function()
            game:GetService("TeleportService"):Teleport(id)
        end
    })
end
